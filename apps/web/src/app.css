@import "tailwindcss";
@import "tw-animate-css";

/* ── shadcn-svelte semantic variables ── */
:root {
  --background: #0f2440;
  --foreground: #f1f5f9;
  --card: rgba(255, 255, 255, 0.10);
  --card-foreground: #f1f5f9;
  --popover: rgba(20, 55, 90, 0.95);
  --popover-foreground: #f1f5f9;
  --primary: #06b6d4;
  --primary-foreground: #ffffff;
  --secondary: rgba(255, 255, 255, 0.04);
  --secondary-foreground: #f1f5f9;
  --muted: rgba(255, 255, 255, 0.08);
  --muted-foreground: #93a5b8;
  --accent: rgba(255, 255, 255, 0.08);
  --accent-foreground: #f1f5f9;
  --destructive: rgba(239, 68, 68, 0.15);
  --destructive-foreground: #fca5a5;
  --border: rgba(255, 255, 255, 0.20);
  --input: rgba(255, 255, 255, 0.10);
  --ring: #06b6d4;
  --radius: 0.625rem;
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
}

@theme {
  /* Surface colors — lighter steel-blue */
  --color-surface-deepest: #122c4a;
  --color-surface-raised: #173858;
  --color-surface-overlay: #1e4668;

  /* Glass colors — more prominent for liquid glass effect */
  --color-glass: rgba(255, 255, 255, 0.11);
  --color-glass-hover: rgba(255, 255, 255, 0.17);
  --color-glass-border: rgba(255, 255, 255, 0.20);
  --color-glass-border-strong: rgba(255, 255, 255, 0.32);
  --color-glass-popover: rgba(20, 55, 90, 0.92);

  /* Accent colors */
  --color-accent: #06b6d4;
  --color-accent-dim: rgba(6, 182, 212, 0.18);
  --color-brand: #3b82f6;
  --color-brand-dim: rgba(59, 130, 246, 0.18);

  /* Text colors — slightly lifted for contrast on lighter bg */
  --color-text-primary: #f1f5f9;
  --color-text-secondary: #b0c0d4;
  --color-text-muted: #93a5b8;

  /* Status colors */
  --color-status-open: rgba(59, 130, 246, 0.15);
  --color-status-active: rgba(34, 197, 94, 0.15);
  --color-status-closed: rgba(239, 68, 68, 0.15);
  --color-status-qualified: rgba(234, 179, 8, 0.15);
  --color-status-converted: rgba(34, 197, 94, 0.15);
  --color-status-rejected: rgba(239, 68, 68, 0.15);

  /* Danger */
  --color-danger: rgba(239, 68, 68, 0.15);
  --color-danger-border: rgba(239, 68, 68, 0.30);

  /* Font */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
}

@utility glass-card {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.10),
    rgba(6, 182, 212, 0.03),
    rgba(255, 255, 255, 0.04)
  );
  backdrop-filter: blur(24px) saturate(1.6);
  -webkit-backdrop-filter: blur(24px) saturate(1.6);
  border: 1px solid rgba(255, 255, 255, 0.20);
  border-radius: 1rem;
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.10),
    0 1px 6px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.20);
}

@utility glass-card-strong {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15),
    rgba(6, 182, 212, 0.04),
    rgba(255, 255, 255, 0.06)
  );
  backdrop-filter: blur(30px) saturate(1.8);
  -webkit-backdrop-filter: blur(30px) saturate(1.8);
  border: 1px solid rgba(255, 255, 255, 0.32);
  border-radius: 1.25rem;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

@utility glass-dialog {
  background: linear-gradient(
    135deg,
    rgba(15, 30, 50, 0.97),
    rgba(20, 45, 70, 0.97),
    rgba(15, 30, 50, 0.97)
  );
  backdrop-filter: blur(30px) saturate(1.8);
  -webkit-backdrop-filter: blur(30px) saturate(1.8);
  border: 1px solid rgba(255, 255, 255, 0.32);
  border-radius: 1.25rem;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.25),
    0 2px 8px rgba(0, 0, 0, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

@utility glass-nav {
  background: linear-gradient(
    135deg,
    rgba(18, 44, 74, 0.92),
    rgba(20, 51, 82, 0.90),
    rgba(18, 44, 74, 0.92)
  );
  backdrop-filter: blur(30px) saturate(1.8);
  -webkit-backdrop-filter: blur(30px) saturate(1.8);
  border-bottom: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.08),
    inset 0 -1px 0 rgba(255, 255, 255, 0.06);
}

@utility glass-input {
  background-color: rgba(255, 255, 255, 0.10);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 0.625rem;
  color: #f1f5f9;
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  transition: border-color 0.2s, box-shadow 0.2s, background-color 0.2s;
  &:hover {
    background-color: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.24);
  }
  &:focus {
    outline: none;
    border-color: #06b6d4;
    box-shadow:
      0 0 0 2px rgba(6, 182, 212, 0.25),
      0 0 12px rgba(6, 182, 212, 0.10);
  }
  &::placeholder {
    color: #93a5b8;
  }
}

@utility glass-thead {
  background-color: rgba(255, 255, 255, 0.08);
  & th {
    color: #a4b4c8;
    font-weight: 500;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.14);
  }
}

@utility glass-row-hover {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  transition: background-color 0.15s;
  &:hover {
    background-color: rgba(255, 255, 255, 0.08);
  }
  & td {
    padding: 0.75rem 1rem;
    color: #f1f5f9;
  }
}

@utility glass-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.1875rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  line-height: 1.25rem;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

@utility btn-primary {
  background: linear-gradient(135deg, #06b6d4, #3b82f6);
  color: white;
  font-weight: 500;
  padding: 0.5rem 1.25rem;
  border-radius: 0.625rem;
  font-size: 0.875rem;
  transition: opacity 0.2s, box-shadow 0.2s, transform 0.2s;
  box-shadow:
    0 2px 8px rgba(6, 182, 212, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  &:hover {
    opacity: 0.9;
    box-shadow: 0 0 16px rgba(6, 182, 212, 0.35);
    transform: translateY(-0.5px);
  }
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  &:focus-visible {
    outline: 2px solid #06b6d4;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.25);
  }
}

@utility btn-ghost {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.18);
  color: #f1f5f9;
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.625rem;
  font-size: 0.875rem;
  transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
  &:hover {
    background-color: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.28);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.10);
  }
  &:focus-visible {
    outline: 2px solid #06b6d4;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.25);
  }
}

@utility btn-danger {
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.30);
  color: #fca5a5;
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.625rem;
  font-size: 0.875rem;
  transition: background-color 0.2s, box-shadow 0.2s;
  &:hover {
    background-color: rgba(239, 68, 68, 0.25);
    box-shadow: 0 0 12px rgba(239, 68, 68, 0.15);
  }
  &:focus-visible {
    outline: 2px solid #06b6d4;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.25);
  }
}

@utility glass-popover {
  background: linear-gradient(
    135deg,
    rgba(20, 55, 90, 0.92),
    rgba(15, 45, 75, 0.95)
  );
  backdrop-filter: blur(24px) saturate(1.5);
  -webkit-backdrop-filter: blur(24px) saturate(1.5);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 0.75rem;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.20),
    0 2px 8px rgba(0, 0, 0, 0.10),
    inset 0 1px 0 rgba(255, 255, 255, 0.10);
}

@layer base {
  html {
    background-color: #0f2440;
  }

  body {
    background: linear-gradient(160deg, #0f2440 0%, #163a58 35%, #1b4868 60%, #143352 100%);
    min-height: 100vh;
    color: #f1f5f9;
    position: relative;
    overflow-x: hidden;
  }

  body::before,
  body::after {
    content: "";
    position: fixed;
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
  }

  body::before {
    width: 60vw;
    height: 60vw;
    top: -15vw;
    left: -15vw;
    background: radial-gradient(circle, rgba(6, 182, 212, 0.08) 0%, transparent 70%);
    animation: liquid-drift-1 25s ease-in-out infinite;
  }

  body::after {
    width: 50vw;
    height: 50vw;
    bottom: -10vw;
    right: -10vw;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.07) 0%, transparent 70%);
    animation: liquid-drift-2 30s ease-in-out infinite;
  }

  body > * {
    position: relative;
    z-index: 1;
  }

  select,
  input[type="date"],
  input[type="datetime-local"] {
    color-scheme: dark;
  }

  a {
    color: #06b6d4;
    &:hover {
      color: #22d3ee;
    }
  }

  @keyframes liquid-drift-1 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(5vw, 3vw) scale(1.05);
    }
    66% {
      transform: translate(-3vw, 5vw) scale(0.97);
    }
  }

  @keyframes liquid-drift-2 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(-4vw, -3vw) scale(1.03);
    }
    66% {
      transform: translate(3vw, -4vw) scale(0.95);
    }
  }

  @keyframes skeleton-pulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.7; }
  }

  @keyframes dropdown-enter {
    from {
      opacity: 0;
      transform: translateY(-4px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    body::before, body::after { animation: none !important; }
    * { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
  }
}

@utility skeleton {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 0.375rem;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

@utility glass-dropdown-item {
  border-radius: 0.5rem;
  padding: 0.5rem 0.75rem;
  margin: 0 0.25rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  color: var(--color-text-secondary);
  cursor: default;
  user-select: none;
  transition: color 0.15s, background-color 0.15s;
  &:hover {
    background-color: var(--color-glass-hover);
    color: var(--color-text-primary);
  }
}

@utility glass-dropdown-separator {
  height: 1px;
  background: rgba(255, 255, 255, 0.10);
  margin: 0.25rem 0.75rem;
}

@utility glass-dropdown-empty {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  color: var(--color-text-muted);
  font-style: italic;
  text-align: center;
}

@utility glass-dropdown-animate {
  animation: dropdown-enter 120ms ease-out;
}

@utility search-highlight {
  background: rgba(6, 182, 212, 0.25);
  color: #22d3ee;
  border-radius: 2px;
  padding: 0 2px;
}
